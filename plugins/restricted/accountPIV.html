<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>accountPIV &mdash; The Bastion 3.22.00 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/thebastion.css?v=a3915d4d" />

  
  
        <script src="../../_static/jquery.js?v=8dae8fb0"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=5dcb48bf"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="accountRevokeCommand" href="accountRevokeCommand.html" />
    <link rel="prev" title="accountModify" href="accountModify.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            The Bastion
          </a>
              <div class="version">
                3.22.00
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Presentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../presentation/principles.html">Principles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../presentation/features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../presentation/security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">FAQ</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../installation/basic.html">Basic Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation/advanced.html">Advanced Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation/upgrading.html">Upgrading</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation/docker.html">Sandbox using Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation/restoring_from_backup.html">Restoring from backup</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../using/basics/index.html">The basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../using/piv.html">PIV keys support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../using/sftp_scp_rsync.html">SFTP, SCP &amp; RSYNC support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../using/http_proxy.html">HTTPS Proxy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../using/api.html">JSON API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../using/specific_ssh_clients_tutorials/index.html">Specific SSH clients tutorials</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Administration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../administration/configuration/index.html">Configuration files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../administration/logs.html">Logs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../administration/mfa.html">Multi-Factor Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../administration/security_advisories.html">Security Advisories</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../development/setup.html">Environment setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development/tests.html">Writing tests</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Plugins</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../admin/index.html">admin plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../group-aclkeeper/index.html">group-aclkeeper plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../group-gatekeeper/index.html">group-gatekeeper plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../group-owner/index.html">group-owner plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../open/index.html">open plugins</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">restricted plugins</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="accountAddPersonalAccess.html">accountAddPersonalAccess</a></li>
<li class="toctree-l2"><a class="reference internal" href="accountCreate.html">accountCreate</a></li>
<li class="toctree-l2"><a class="reference internal" href="accountDelPersonalAccess.html">accountDelPersonalAccess</a></li>
<li class="toctree-l2"><a class="reference internal" href="accountDelete.html">accountDelete</a></li>
<li class="toctree-l2"><a class="reference internal" href="accountFreeze.html">accountFreeze</a></li>
<li class="toctree-l2"><a class="reference internal" href="accountGeneratePassword.html">accountGeneratePassword</a></li>
<li class="toctree-l2"><a class="reference internal" href="accountGrantCommand.html">accountGrantCommand</a></li>
<li class="toctree-l2"><a class="reference internal" href="accountInfo.html">accountInfo</a></li>
<li class="toctree-l2"><a class="reference internal" href="accountList.html">accountList</a></li>
<li class="toctree-l2"><a class="reference internal" href="accountListAccesses.html">accountListAccesses</a></li>
<li class="toctree-l2"><a class="reference internal" href="accountListEgressKeys.html">accountListEgressKeys</a></li>
<li class="toctree-l2"><a class="reference internal" href="accountListIngressKeys.html">accountListIngressKeys</a></li>
<li class="toctree-l2"><a class="reference internal" href="accountListPasswords.html">accountListPasswords</a></li>
<li class="toctree-l2"><a class="reference internal" href="accountMFAResetPassword.html">accountMFAResetPassword</a></li>
<li class="toctree-l2"><a class="reference internal" href="accountMFAResetTOTP.html">accountMFAResetTOTP</a></li>
<li class="toctree-l2"><a class="reference internal" href="accountModify.html">accountModify</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">accountPIV</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#modify-the-piv-policy-for-the-ingress-keys-of-an-account">Modify the PIV policy for the ingress keys of an account</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#possible-policy-values">Possible POLICY values:</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="accountRevokeCommand.html">accountRevokeCommand</a></li>
<li class="toctree-l2"><a class="reference internal" href="accountUnexpire.html">accountUnexpire</a></li>
<li class="toctree-l2"><a class="reference internal" href="accountUnfreeze.html">accountUnfreeze</a></li>
<li class="toctree-l2"><a class="reference internal" href="accountUnlock.html">accountUnlock</a></li>
<li class="toctree-l2"><a class="reference internal" href="assetForgetHostKey.html">assetForgetHostKey</a></li>
<li class="toctree-l2"><a class="reference internal" href="groupCreate.html">groupCreate</a></li>
<li class="toctree-l2"><a class="reference internal" href="groupDelete.html">groupDelete</a></li>
<li class="toctree-l2"><a class="reference internal" href="realmCreate.html">realmCreate</a></li>
<li class="toctree-l2"><a class="reference internal" href="realmDelete.html">realmDelete</a></li>
<li class="toctree-l2"><a class="reference internal" href="realmInfo.html">realmInfo</a></li>
<li class="toctree-l2"><a class="reference internal" href="realmList.html">realmList</a></li>
<li class="toctree-l2"><a class="reference internal" href="rootListIngressKeys.html">rootListIngressKeys</a></li>
<li class="toctree-l2"><a class="reference internal" href="selfAddPersonalAccess.html">selfAddPersonalAccess</a></li>
<li class="toctree-l2"><a class="reference internal" href="selfDelPersonalAccess.html">selfDelPersonalAccess</a></li>
<li class="toctree-l2"><a class="reference internal" href="whoHasAccessTo.html">whoHasAccessTo</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">The Bastion</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">restricted plugins</a></li>
      <li class="breadcrumb-item active">accountPIV</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/plugins/restricted/accountPIV.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="accountpiv">
<h1>accountPIV<a class="headerlink" href="#accountpiv" title="Link to this heading"></a></h1>
<section id="modify-the-piv-policy-for-the-ingress-keys-of-an-account">
<h2>Modify the PIV policy for the ingress keys of an account<a class="headerlink" href="#modify-the-piv-policy-for-the-ingress-keys-of-an-account" title="Link to this heading"></a></h2>
<div class="cmdusage admonition">
<p class="admonition-title">usage</p>
<p>--osh accountPIV --account ACCOUNT --policy &lt;default|enforce|never|grace --ttl SECONDS|DURATION&gt;</p>
</div>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-accountPIV-account">
<span class="sig-name descname"><span class="pre">--account</span></span><span class="sig-prename descclassname"> <span class="pre">ACCOUNT</span></span><a class="headerlink" href="#cmdoption-accountPIV-account" title="Link to this definition"></a></dt>
<dd><p>Bastion account to work on</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-accountPIV-policy">
<span class="sig-name descname"><span class="pre">--policy</span></span><span class="sig-prename descclassname">&#160; <span class="pre">POLICY</span></span><a class="headerlink" href="#cmdoption-accountPIV-policy" title="Link to this definition"></a></dt>
<dd><p>Changes the PIV policy of account. See below for a description of available policies.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-accountPIV-ttl">
<span class="sig-name descname"><span class="pre">--ttl</span></span><span class="sig-prename descclassname"> <span class="pre">SECONDS|DURATION</span></span><a class="headerlink" href="#cmdoption-accountPIV-ttl" title="Link to this definition"></a></dt>
<dd><p>For the <code class="docutils literal notranslate"><span class="pre">grace</span></code> policy, amount of time after which the account will automatically revert</p>
<blockquote>
<div><p>to its previous policy (amount of seconds, or duration string such as &quot;4d12h15m&quot;).</p>
</div></blockquote>
</dd></dl>

<section id="possible-policy-values">
<h3>Possible POLICY values:<a class="headerlink" href="#possible-policy-values" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>default</dt><dd><p>No specific policy is defined for this account, the default bastion policy applies (see the <a class="reference internal" href="../../administration/configuration/bastion_conf.html#ingressrequirepiv"><span class="std std-ref">ingressRequirePIV</span></a> global option).</p>
</dd>
<dt>enforce</dt><dd><p>Only verified PIV keys can be added as ingress SSH keys for this account. Note that setting the policy to <code class="docutils literal notranslate"><span class="pre">enforce</span></code> also immediately
disables any non-PIV keys from the account's ingress keys. If no valid PIV key is found, this in effect disables all the keys of said
account, preventing connection. The disabled keys are still kept so that setting back the policy to <code class="docutils literal notranslate"><span class="pre">default</span></code> or <code class="docutils literal notranslate"><span class="pre">never</span></code> does restore
the non-PIV keys.</p>
</dd>
<dt>never</dt><dd><p>Regardless of the global configuration of the bastion (see the <a class="reference internal" href="../../administration/configuration/bastion_conf.html#ingressrequirepiv"><span class="std std-ref">ingressRequirePIV</span></a> global option), this account will never be required
to use only PIV keys. This can be needed for a non-human account if PIV is enabled bastion-wide.</p>
</dd>
<dt>grace</dt><dd><p>enables temporary deactivation of PIV enforcement on this account. This is only meaningful when the policy is already set to <code class="docutils literal notranslate"><span class="pre">enforce</span></code>
for this account, or if the global <a class="reference internal" href="../../administration/configuration/bastion_conf.html#ingressrequirepiv"><span class="std std-ref">ingressRequirePIV</span></a> option is set to true. This policy requires the use of the <code class="docutils literal notranslate"><span class="pre">--ttl</span></code> option to
specify how much time the policy will be relaxed for this account before going back to its previous policy automatically. This can be
useful when people forget their PIV-enabled hardware token and you don't want to send them back home.</p>
</dd>
</dl>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="accountModify.html" class="btn btn-neutral float-left" title="accountModify" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="accountRevokeCommand.html" class="btn btn-neutral float-right" title="accountRevokeCommand" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, OVHcloud.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>